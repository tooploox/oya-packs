# -*- mode: yaml -*-

Project: AiBootstrap

Values:
  python_interpreter: python3
  project_description: My awesome AI project
  project_name: Literal AI
  author: John Doe

generate:
  oya render ${Oya[BasePath]}/templates/values.oya
  echo "Generated random values for you AI project. Good luck, sucker!"

bootstrap.Doc: Bootstraps your new AI project
bootstrap: |
  set -e
  echo Bootstraping your amazing project!
  oya run gitinit
  oya run virtualenv

postboostrap: |
  oya run requirements
  oya run dockerfile
  oya run cookiecutter

gitinit: |
  git status; test $? -eq 128 && git init .

virtualenv: |
  type pip3 >/dev/null && PipInterpreter="pip3" || PipInterpreter="pip"
  $PipInterpreter install virtualenv
  virtualenv venv
  (grep venv .gitignore 2>&1 >/dev/null) || (echo venv >> .gitignore)

requirements: |
  BasePath=${Oya[BasePath]}
  oya render $BasePath/templates/requirements.txt
  venv/bin/pip install -r requirements.txt

dockerfile: |
  BasePath=${Oya[BasePath]}
  oya render $BasePath/templates/Dockerfile

cookiecutter: |
  BasePath=${Oya[BasePath]}
  oya render -s ai $BasePath/templates/cookiecutter.json
  cookiecutter --no-input -o . https://github.com/drivendata/cookiecutter-data-science