Project: cricleci

Values:
  image: circleci/ruby:2.5-node-browsers

generate : |
  BasePath=${Oya[BasePath]}
  proceed="$($BasePath/overwrite.sh)"
  if [ "$proceed" = "Y" ]; then
    echo "Generating circleCI config"
    image="$($BasePath/detectImage.sh)"
    oya render $BasePath/config.yml
    mkdir -p .circleci
    mv config.yml .circleci/.
    echo -e "\033[0;32m Oya circleCI generated."
    echo -e "\033[0;31m [Warning] \033[0m You have to edit your Oyafile to add onPush and onMergeToMaster hooks."
    echo " Check README if you dont know how to do it."
  fi
